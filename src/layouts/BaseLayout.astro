---
import '../styles/global.css';
import logo from '../assets/logo.webp';

interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Micropigmentare si Microblading by Paula Lupu | Sprâncene, Buze, Indepartare Tatuaj Laser",
  description = "Micropigmentare Ploiești - Paula Lupu. Micropigmentare sprâncene, buze și îndepărtare tatuaj cu laser. Experiență din 2017. Acum poti avea sprancene perfect anatomice.",
} = Astro.props;

const baseUrl = import.meta.env.BASE_URL;
const logoUrl = new URL(logo.src, Astro.site || 'https://www.micropigmentaresprancene.ro').href;
---

<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={description}>
    <meta name="keywords" content="micropigmentare, micropigmentare sprancene, micropigmentare buze, micropigmentare ploiesti, micropigmentare sprancene ploiesti, micropigmentare buze ploiesti, indepartare pigment laser">
    <meta name="author" content="Paula Lupu">
    <title>{title}</title>

    <!-- Flowbite CSS -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Schema.org markup for Google -->
    <script type="application/ld+json" set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "BeautySalon",
        "name": "Paula Lupu Micropigmentare",
        "url": "https://www.micropigmentaresprancene.ro",
        "image": logoUrl,
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Str. Ana Ipătescu nr 10",
            "addressLocality": "Ploiești",
            "addressRegion": "Prahova",
            "postalCode": "100337",
            "addressCountry": "RO"
        },
        "telephone": "+40732163268",
        "openingHours": "Mo-Fr 09:00-16:00",
        "priceRange": "300-1300 RON"
    })} />
    </script>
</head>
<body>
    <slot />

    <!-- Fix for missing theme toggle elements -->
    <script is:inline>
        // Prevent theme toggle errors when elements don't exist
        if (typeof window !== 'undefined') {
            window.addEventListener('DOMContentLoaded', function() {
                // Create dummy elements if they don't exist to prevent errors
                if (!document.getElementById('theme-toggle-dark-icon')) {
                    const dummyDark = document.createElement('div');
                    dummyDark.id = 'theme-toggle-dark-icon';
                    dummyDark.style.display = 'none';
                    document.body.appendChild(dummyDark);
                }
                if (!document.getElementById('theme-toggle-light-icon')) {
                    const dummyLight = document.createElement('div');
                    dummyLight.id = 'theme-toggle-light-icon';
                    dummyLight.style.display = 'none';
                    document.body.appendChild(dummyLight);
                }
            });
        }
    </script>

    <!-- Flowbite JS -->
    <script is:inline src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>

    <!-- Main JS -->
    <script is:inline src={`${baseUrl}assets/js/main.js`}></script>
</body>
</html>
